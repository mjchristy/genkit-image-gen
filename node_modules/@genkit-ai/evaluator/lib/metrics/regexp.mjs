import {
  EvalStatusEnum
} from "genkit/evaluator";
async function regexp(dataPoint) {
  if (!dataPoint.output) {
    throw new Error("Output was not provided");
  }
  if (!dataPoint.reference) {
    throw new Error("Reference was not provided");
  }
  if (typeof dataPoint.reference !== "string") {
    throw new Error("Reference must be a string (regex)");
  }
  const re = new RegExp(dataPoint.reference);
  const outputStr = typeof dataPoint.output !== "string" ? JSON.stringify(dataPoint.output) : dataPoint.output;
  const score = re.test(outputStr);
  return {
    score,
    status: score ? EvalStatusEnum.PASS : EvalStatusEnum.FAIL
  };
}
export {
  regexp
};
//# sourceMappingURL=regexp.mjs.map