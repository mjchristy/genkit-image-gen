import {
  EvalStatusEnum
} from "genkit/evaluator";
import jsonata from "jsonata";
async function jsonataMetric(dataPoint) {
  if (!dataPoint.output) {
    throw new Error("Output was not provided");
  }
  if (!dataPoint.reference) {
    throw new Error("Reference was not provided");
  }
  if (typeof dataPoint.reference !== "string") {
    throw new Error("Reference must be a string (jsonata)");
  }
  const expression = jsonata(dataPoint.reference);
  const result = await expression.evaluate(dataPoint.output);
  return {
    score: !!result,
    status: !!result ? EvalStatusEnum.PASS : EvalStatusEnum.FAIL
  };
}
export {
  jsonataMetric
};
//# sourceMappingURL=jsonata.mjs.map